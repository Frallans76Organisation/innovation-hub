# Innovation Hub Helm Values
# Override these values for your environment

replicaCount: 1

image:
  repository: ghcr.io/frallan76/innovation-hub
  tag: latest
  pullPolicy: IfNotPresent

# Image pull secrets for private registries
imagePullSecrets: []
# - name: ghcr-secret

nameOverride: ""
fullnameOverride: ""

# Service configuration
service:
  type: ClusterIP
  port: 8000

# OpenShift Route configuration
route:
  enabled: true
  host: ""  # Leave empty for auto-generated, or set: innovation-hub.apps.your-cluster.com
  tls:
    enabled: true
    termination: edge  # edge, passthrough, or reencrypt

# Environment variables
env:
  HOST: "0.0.0.0"
  PORT: "8000"
  DEBUG: "False"
  DATABASE_URL: "sqlite:////app/data/innovation_hub.db"
  AI_MODEL: "qwen/qwen3-32b"
  OPENROUTER_BASE_URL: "https://openrouter.ai/api/v1"

# Secrets - set these via --set or external secret management
secrets:
  # These should be provided at install time:
  # helm install innovation-hub ./helm --set secrets.openrouterApiKey=xxx --set secrets.openaiApiKey=xxx
  openrouterApiKey: ""
  openaiApiKey: ""

# Persistent storage
persistence:
  enabled: true
  # Database storage
  data:
    size: 1Gi
    storageClass: ""  # Leave empty for default, or specify your storage class
  # ChromaDB vector storage
  chromadb:
    size: 5Gi
    storageClass: ""

# Resource limits
resources:
  limits:
    cpu: "2"
    memory: 4Gi
  requests:
    cpu: 500m
    memory: 1Gi

# Health checks
healthCheck:
  enabled: true
  path: /api/health
  initialDelaySeconds: 60
  periodSeconds: 30
  timeoutSeconds: 10
  failureThreshold: 3

# Security context for OpenShift
securityContext:
  runAsNonRoot: true
  # OpenShift assigns random UID, so don't set runAsUser

# Pod annotations
podAnnotations: {}

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity rules
affinity: {}
